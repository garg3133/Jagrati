{% extends 'sidebar.html' %}

{% load static %}

{% block title %} Jagrati | Class Schedule {% endblock %}

{% block content-sidebar %}

<!-- CLASS SCHEDULE -->

<div class="dash-schedule col-md-8 col-lg-9 mt-3">
    <a href="" class="d-inline-block mb-2 mb-md-0">&#x27f3; Refresh Page</a>
    <h3 class="text-center">Class Schedule</h3>
        <div class="row justify-content-center">
            <div class="col-md-3 mb-3">
                <label for="sch-day">Day</label>
                <select name="day" class="custom-select d-block w-100" id="sch-day">
                    <option value="">Select Day</option>
                    {% for day, day_name in day %}
                    <option value="{{ day }}">{{ day_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-3 mb-3">
                <label for="sch-section">Section</label>
                <select name="section" class="custom-select d-block w-100" id="sch-section">
                    <option value="">Select Section</option>
                    {% for section, section_name in day %}
                    <option value="{{ section }}">{{ section_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-3 mb-3">
                <label for="subject">Subject</label>
                <select name="subject" class="custom-select d-block w-100" id="subject">
                    {% for subject, subject_name in day %}
                    <option value="{{ subject }}">{{ subject_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2 mb-3">
                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                    add new
                  </button>
            </div>
        </div>

        
    <div class="row justify-content-center mt-5">
        <div class="col-sm-6 mb-2 text-center">
            <table class="table" id="vol-att-table">
                <thead>
                    <tr>
                        <th>Day</th>
                        <th>Subject</th>
                        <th>Section</th>
                    </tr>
                </thead>
                <tbody>
                    {% for vol_sch in today_vol_sch %}
                    <tr>
                        <td>{{ vol_sch.day }}</td>
                        <td>{{ vol_sch.subject }}</td>
                        <td>{{ vol_sch.section }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="collapse" style="display: none" id="collapseExample">
        <div class="card card-body">
            the card that should open, but doesn't :(
        </div>
    </div>    
</div>
            

{% endblock %}

{% block scripts-sidebar %}

<!-- AJAX for filter Schedule -->
<!-- <script>
    $("#sch-day option:first").attr('selected', 'selected');

    $("#sch-day").change(function () {
        var sch_day = $(this).val();

        $.ajax({
            url: "{% url 'volunteers:ajax_update_schedule' %}",
            data: {
                'sch_day': sch_day,
            },
            dataType: 'json',
            success: function (data) {
                var options = '';

                Object.entries(data).forEach(([key, value]) => {
                    options += '<option value="' + key + '" >' + value + '</option>';
                });

                $("#sch-section").html(options);
            }
        });
    });

</script> -->

{% endblock %}